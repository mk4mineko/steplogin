<html>
<head>
    <meta charset="UTF-8">
    <title>DEMOIFRAME</title>
    <link rel="stylesheet/less" type="text/css" href="index.less"/>
    <link rel="stylesheet/less" type="text/css" href="media.less"/>
    <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/2.7.2/less.min.js"></script>    
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    
    <div class="iframe">
<!--
        <div class="logo">
            <img src="assets/logo.png" alt="">
        </div>
-->
        <div class="steps">
            <div class="step">
                <img class="logo" src="assets/logo.png" alt="">
            </div>
            <div class="step done">
                <div class="text">Hochladen</div>
                <div class="icon">1</div>
            </div>
            <div class="sep"><div class="line"></div></div>
            <div class="step">
                <div class="text">Bezahlen</div>
                <div class="icon">2</div>
            </div>
            <div class="sep"><div class="line"></div></div>
            <div class="step">
                <div class="text">Mineko pr√ºft</div>
                <div class="icon">3</div>
            </div>
        </div>
        <div class="main">
            <svg class="tria" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 89.13 41.85"><defs><style>.cls-1{fill:#f2f2f2;stroke:gray;stroke-miterlimit:10;}.cls-2{opacity:0.54;}</style></defs><title>Artboard 12@1x</title><polyline class="cls-1" points="1.26 41.35 22.91 21.02 44.56 0.69 66.22 21.02 87.86 41.35"/></svg>
            <div class="tito">Angaben zur Abrechnung</div>
            <div class="input">
                <i class="material-icons">account_circle</i>
                <input class="surname" type="text" placeholder="Vorname">
                <div class="space"></div>
                <input class="name" type="text" placeholder="Name">
            </div>
            <div class="input">
                <i class="material-icons">mail</i>
                <input class="email" type="email" placeholder="E-Mail">
                <div class="space"></div>
                <input class="remail" type="email" placeholder="Re-Mail">
            </div>
        </div>
        <div class="acti">
            <button class="btnact">WEITER</button>
        </div>
        <div class="errormess"></div>
    </div>
    
    <script>
        $(function() {
            $('.remail').bind("cut copy paste",function(e) {
                e.preventDefault();
            });
            $('input').focus(function(){
                $(this).removeClass('error');
            });
            $('.btnact').click(function(){
                var surname=$('.surname').val();
                var name=$('.name').val();
                var email=$('.email').val();
                var remail=$('.remail').val();
                $('input').each(function() {
                    if($(this).val()==''){
                        $(this).addClass('error');
                    }
                });
                if(surname=='' || name=='' || email=='' || remail==''){
                    $('.errormess').text('Enter all the fields.');
                }else{
                    if (!isValidEmailAddress(email)) {
                        $('.errormess').text('Email is not correct.');
                        $('.email').addClass('error');
                    }else{
                        if(email != remail){
                            $('.errormess').text('Emails are different.');
                            $('.email, .remail').addClass('error');
                        }else{
                            $('.errormess').text('');
                            window.location.href = "https://www.mineko.de/?surname="+surname+"&name="+name+"&mail="+email;
                        }
                    }
                }
            });
            function isValidEmailAddress(emailAddress) {
                var pattern = new RegExp(/^(("[\w-+\s]+")|([\w-+]+(?:\.[\w-+]+)*)|("[\w-+\s]+")([\w-+]+(?:\.[\w-+]+)*))(@((?:[\w-+]+\.)*\w[\w-+]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][\d]\.|1[\d]{2}\.|[\d]{1,2}\.))((25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\.){2}(25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\]?$)/i);
                return pattern.test(emailAddress);
            };
        });
    </script>
    
</body>
</html>